<Window x:Class="QGo.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="QGo" Width="300"
        SizeToContent="Height"
        ResizeMode="NoResize"
        WindowStyle="None" 
        Topmost="True" ShowInTaskbar="False"
        WindowStartupLocation="Manual"
        AllowsTransparency="True" Background="Transparent">

    <!--<Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </Window.Resources>-->


    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto"/>
            <ColumnDefinition Width="10"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.ColumnSpan="3"
            Background="#004080"
            CornerRadius="10"
            Padding="0" Grid.RowSpan="1"/>

        <Image x:Name="Logo"
         Grid.Column="0"
         Width="28" Height="28"
         VerticalAlignment="Top"
         Margin="2,10,2,2"
         Source="pack://application:,,,/QGo.App;component/Assets/QGoLogoSmall.png"
         ImageFailed="Image_ImageFailed"
         MouseLeftButtonDown="DragWindow" Grid.ColumnSpan="2"
               />

        <Border Grid.Column="2"
        CornerRadius="5"
        Background="{Binding BackgroundBrush}"
        Margin="0,8,12,8"
        Padding="2">
            <TextBox x:Name="Input"  Grid.Column="1"
                 Background="Transparent"
                 BorderThickness="0"
                 Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                 FontSize="{Binding Settings.FontSize}"
                 FontFamily="{Binding Settings.FontFamily}"
                 Foreground="{Binding ForegroundBrush}"
                 Padding="0"
                 AcceptsReturn="False">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Settings..." Click="Settings_Click"/>
                        <MenuItem Header="Manage Shortcuts..." Click="ManageShortcuts_Click"/>
                        <MenuItem Header="About..." Click="About_Click"/>
                        <Separator/>
                        <MenuItem Header="Exit" Click="Exit_Click"/>
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
        </Border>

        <ListBox Grid.Row="1" Grid.Column="2"
                 ItemsSource="{Binding FilteredItems}"
                 BorderThickness="1"
                 BorderBrush="AntiqueWhite"
                 SelectedItem="{Binding Selected}"
                 FontSize="{Binding Settings.FontSize}"
                 FontFamily="{Binding Settings.FontFamily}"
                 Foreground="{Binding ForegroundBrush}"
                 Background="{Binding BackgroundBrush}"
                 DisplayMemberPath="Key"
                 IsSynchronizedWithCurrentItem="True"
                 MaxHeight="300">
            <ListBox.Style>
                <Style TargetType="ListBox">
                    <Setter Property="Visibility" Value="Collapsed"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsListVisible}" Value="True">
                            <Setter Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </ListBox.Style>
        </ListBox>

    </Grid>

</Window>
